<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mini Game Hub | å°æ¸¸æˆåˆé›†ï¼ˆé¦–ç‰ˆï¼‰</title>
  <meta name="description" content="è¶…è½»é‡å°æ¸¸æˆåˆé›†ç½‘ç«™ï¼Œä¸€é”®ä¸Šçº¿ç¤ºä¾‹ã€‚" />
  <style>
    :root{--bg:#0b1020;--card:#111731;--muted:#8a93ad;--text:#e9ecf1;--accent:#5ee0a3;--border:#1c2342}
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,"Noto Sans",sans-serif;background:linear-gradient(180deg,#0b1020,#111737);color:var(--text)}
    .wrap{max-width:1000px;margin:0 auto;padding:24px}
    header{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-bottom:16px}
    .title{font-size:22px;font-weight:700;letter-spacing:.3px;display:flex;align-items:center;gap:10px}
    .badge{font-size:12px;color:#0b1020;background:var(--accent);padding:2px 8px;border-radius:999px}
    .desc{color:var(--muted);font-size:14px;margin:4px 0 0}

    .toolbar{display:flex;gap:10px;align-items:center;margin:16px 0}
    input[type="search"]{flex:1;background:var(--card);border:1px solid var(--border);color:var(--text);padding:10px 12px;border-radius:12px;outline:none}
    .deploy{background:transparent;border:1px solid var(--border);color:var(--text);padding:10px 12px;border-radius:12px;cursor:pointer}
    .deploy:hover{border-color:#33406d}

    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:10px;transition:transform .15s ease, box-shadow .15s ease}
    .card:hover{transform:translateY(-2px);box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .thumb{height:140px;border-radius:12px;background:linear-gradient(135deg,#1d2447,#131b3b);border:1px dashed #2a335f;display:grid;place-items:center;color:var(--muted);font-size:13px}
    .meta{display:flex;align-items:center;justify-content:space-between;color:var(--muted);font-size:12px}
    .btn{background:var(--accent);color:#0b1020;border:none;padding:10px 12px;border-radius:12px;font-weight:700;cursor:pointer}
    .btn.secondary{background:#263054;color:var(--text)}

    /* Modal */
    .modal{position:fixed;inset:0;background:rgba(3,6,20,.65);display:none;align-items:center;justify-content:center;padding:20px}
    .modal.open{display:flex}
    .panel{width:min(720px,100%);background:#0e1533;border:1px solid var(--border);border-radius:18px;overflow:hidden}
    .panel header{padding:14px 16px;border-bottom:1px solid var(--border);gap:8px}
    .panel header h3{margin:0;font-size:16px}
    .panel .body{padding:16px}

    /* Reaction Timer Game */
    .rt-wrap{display:grid;gap:14px}
    .rt-stage{height:280px;border-radius:12px;border:1px dashed #33406d;display:grid;place-items:center;background:#0b132b}
    .rt-hint{color:var(--muted);font-size:13px}
    .rt-big{font-size:42px;font-weight:800}

    footer{margin:30px 0 10px;color:var(--muted);font-size:12px;text-align:center}
    a{color:var(--accent);text-decoration:none}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <div class="title">ğŸ® Mini Game Hub <span class="badge">v0.1</span></div>
        <p class="desc">é¦–ä¸ªå¯ä¸Šçº¿æ¨¡æ¿ï¼šè‡ªå¸¦ 1 æ¬¾å°æ¸¸æˆï¼Œå¯æ‰©å±•åˆé›†åˆ—è¡¨ã€‚</p>
      </div>
      <button class="deploy" id="copyBtn" title="å¤åˆ¶æ•´é¡µä»£ç ">å¤åˆ¶ä»£ç </button>
    </header>

    <div class="toolbar">
      <input id="search" type="search" placeholder="æœç´¢æ¸¸æˆï¼Œä¾‹å¦‚ï¼šååº”ã€ç‚¹å‡»â€¦" />
      <button class="deploy" id="how">ä½¿ç”¨è¯´æ˜</button>
    </div>

    <section class="grid" id="grid">
      <!-- Card: Reaction Timer -->
      <article class="card" data-title="ååº”é€Ÿåº¦æµ‹è¯•">
        <div class="thumb">ååº”é€Ÿåº¦æµ‹è¯•ï¼ˆå†…ç½®ï¼‰</div>
        <div class="meta"><span>éš¾åº¦ï¼šâ­</span><span>ç±»å‹ï¼šååº”</span></div>
        <button class="btn" data-open="rt">å¼€å§‹æ¸¸æˆ</button>
      </article>

      <!-- Card: å ä½ -->
      <article class="card" data-title="ç‚¹å‡»æŒ‘æˆ˜">
        <div class="thumb">ç‚¹å‡»æŒ‘æˆ˜ï¼ˆ5 ç§’å†…å°½å¯èƒ½å¤šç‚¹ï¼‰</div>
        <div class="meta"><span>éš¾åº¦ï¼šâ­</span><span>ç±»å‹ï¼šç‚¹å‡»</span></div>
        <button class="btn" data-open="clicker">å¼€å§‹æ¸¸æˆ</button>
      </article>

      <article class="card" data-title="èº²é¿æ–¹å—ï¼ˆå³å°†ä¸Šçº¿ï¼‰">
        <div class="thumb">èº²é¿æ–¹å—ï¼ˆComing soonï¼‰</div>
        <div class="meta"><span>éš¾åº¦ï¼šâ­â­</span><span>ç±»å‹ï¼šèº²é¿</span></div>
        <button class="btn secondary" disabled>å³å°†ä¸Šçº¿</button>
      </article>
    </section>

    <footer>Â© 2025 Mini Game Hub. å…è´¹æ¨¡æ¿ï¼Œéšæ„ä½¿ç”¨ä¸ä¿®æ”¹ã€‚ç”± <a href="#" id="openHelp">ä½¿ç”¨æŒ‡å—</a> æä¾›æ”¯æŒã€‚</footer>
  </div>

  <!-- ä½¿ç”¨è¯´æ˜ Modal -->
  <div class="modal" id="helpModal" aria-hidden="true">
    <div class="panel">
      <header>
        <h3>ğŸš€ ä½¿ç”¨è¯´æ˜ï¼ˆ5 åˆ†é’Ÿä¸Šçº¿ï¼‰</h3>
        <button class="deploy" id="closeHelp">å…³é—­</button>
      </header>
      <div class="body">
        <ol>
          <li>å¤åˆ¶æœ¬é¡µå…¨éƒ¨ä»£ç ï¼ˆå³ä¸Šè§’â€œå¤åˆ¶ä»£ç â€ï¼‰ã€‚</li>
          <li>å» <strong>GitHub</strong> æ–°å»ºä»“åº“ï¼Œä¾‹å¦‚ <code>game-hub</code>ï¼Œæ–°å»ºæ–‡ä»¶ <code>index.html</code>ï¼Œç²˜è´´ä¿å­˜ã€‚</li>
          <li>ç”¨ <strong>Vercel</strong> ç»‘å®š GitHubï¼Œä¸€é”®å¯¼å…¥è¯¥ä»“åº“å¹¶éƒ¨ç½²ï¼Œç«‹åˆ»è·å¾—å›½å¤–å¯è®¿é—®çš„ç½‘å€ã€‚</li>
          <li>ä»¥åä½ åªè¦ç»§ç»­åœ¨ <code>index.html</code> é‡Œæ·»åŠ æ–°æ¸¸æˆæ¨¡å—ï¼Œå°±èƒ½æ‰©å……ä½ çš„åˆé›†ã€‚</li>
        </ol>
        <p class="desc">å¦‚æœä½ ä¸ç†Ÿæ‚‰ GitHub / Vercelï¼Œå›åˆ°èŠå¤©è®©æˆ‘å¸¦ä½ æ‰‹æŠŠæ‰‹åšã€‚</p>
      </div>
    </div>
  </div>

  <!-- Reaction Timer Modal -->
  <div class="modal" id="rtModal" aria-hidden="true">
    <div class="panel">
      <header>
        <h3>âš¡ ååº”é€Ÿåº¦æµ‹è¯•</h3>
        <button class="deploy" id="rtClose">é€€å‡º</button>
      </header>
      <div class="body">
        <div class="rt-wrap">
          <div class="rt-stage" id="rtStage">
            <div class="rt-hint" id="rtHint">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹ï¼Œç­‰å¾…å±å¹•æç¤ºâ€œç‚¹æˆ‘ï¼â€å†å°½å¿«ç‚¹å‡»ã€‚</div>
          </div>
          <div style="display:flex;gap:10px;align-items:center">
            <button class="btn" id="rtStart">å¼€å§‹</button>
            <button class="deploy" id="rtRetry" disabled>å†æ¥ä¸€æ¬¡</button>
            <span class="rt-hint" id="rtResult">â€”</span>
          </div>
        </div>
    </div>
    </div>
  </div>

  <!-- Click Challenge Modal -->
  <div class="modal" id="clickerModal" aria-hidden="true">
    <div class="panel">
      <header>
        <h3>ğŸ–±ï¸ ç‚¹å‡»æŒ‘æˆ˜ï¼ˆ5 ç§’ï¼‰</h3>
        <button class="deploy" id="clickerClose">é€€å‡º</button>
      </header>
      <div class="body">
        <div class="rt-wrap">
          <div class="rt-stage" id="clickerStage">
            <div class="rt-hint" id="clickerHint">ç‚¹å‡»â€œå¼€å§‹â€åï¼Œ5 ç§’å†…å°½å¯èƒ½å¤šåœ°ç‚¹ä¸‹æ–¹å¤§æŒ‰é’®ã€‚</div>
          </div>
          <div style="display:flex;gap:10px;align-items:center">
            <button class="btn" id="clickerStart">å¼€å§‹</button>
            <button class="deploy" id="clickerRetry" disabled>å†æ¥ä¸€æ¬¡</button>
            <span class="rt-hint" id="clickerResult">â€”</span>
          </div>
          <div style="display:grid;gap:10px;justify-items:center;margin-top:6px">
            <button class="btn" id="clickerBig" style="font-size:20px;padding:18px 20px;border-radius:16px" disabled>ç‚¹æˆ‘ +1</button>
            <div class="rt-hint">å‰©ä½™æ—¶é—´ï¼š<span id="clickerTime">5.0</span>sã€€å½“å‰ç‚¹å‡»ï¼š<span id="clickerScore">0</span></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // --- small helpers ---
    const $ = s => document.querySelector(s);
    const $$ = s => Array.from(document.querySelectorAll(s));

    // search filter
    const search = $('#search');
    search.addEventListener('input', () => {
      const kw = search.value.trim().toLowerCase();
      $$('#grid .card').forEach(c=>{
        const t = (c.getAttribute('data-title')||'').toLowerCase();
        c.style.display = t.includes(kw) ? '' : 'none';
      });
    });

    // help modal
    const helpModal = $('#helpModal');
    const openHelp = () => helpModal.classList.add('open');
    const closeHelp = () => helpModal.classList.remove('open');
    $('#how').onclick = openHelp; $('#openHelp').onclick = openHelp; $('#closeHelp').onclick = closeHelp;
    helpModal.addEventListener('click', (e)=>{ if(e.target===helpModal) closeHelp(); });

    // copy whole html
    $('#copyBtn').addEventListener('click', async () => {
      try{
        await navigator.clipboard.writeText(document.documentElement.outerHTML);
        const btn = $('#copyBtn'); const txt = btn.textContent;
        btn.textContent = 'å·²å¤åˆ¶ âœ“';
        setTimeout(()=>btn.textContent = txt, 1600);
      }catch{
        alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å…¨é€‰å¤åˆ¶');
      }
    });

    // open Reaction Timer
    document.querySelector('[data-open="rt"]').addEventListener('click',()=>{
      $('#rtModal').classList.add('open');
    });

    // Reaction Timer core
    const rt = {
      state: 'idle', // idle|waiting|ready|done
      t0: 0,
      to: null,
    };
    const stage = $('#rtStage');
    const hint = $('#rtHint');
    const res = $('#rtResult');
    const startBtn = $('#rtStart');
    const retryBtn = $('#rtRetry');

    function resetRT(){
      rt.state='idle';
      stage.style.background = '#0b132b';
      hint.className='rt-hint';
      hint.textContent = 'ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹ï¼Œç­‰å¾…å±å¹•æç¤ºâ€œç‚¹æˆ‘ï¼â€å†å°½å¿«ç‚¹å‡»ã€‚';
      res.textContent='â€”';
      retryBtn.disabled=true;
    }
    resetRT();

    startBtn.onclick = ()=>{
      if(rt.state!=='idle'&&rt.state!=='done') return;
      rt.state='waiting';
      res.textContent='â€”';
      stage.style.background = '#0b132b';
      hint.className='rt-hint';
      hint.textContent='è¯·ç­‰å¾…â€¦ (å¦‚æœæ­¤æ—¶ç‚¹å‡»ï¼Œå°†åˆ¤å®šä¸ºè¿‡æ—©)';
      const delay = 800 + Math.random()*1800; // 0.8s - 2.6s
      clearTimeout(rt.to);
      rt.to = setTimeout(()=>{
        rt.state='ready';
        rt.t0 = performance.now();
        stage.style.background = '#10381f';
        hint.className='rt-big';
        hint.textContent='ç‚¹æˆ‘ï¼';
      }, delay);
    };

    stage.onclick = ()=>{
      if(rt.state==='waiting'){
        clearTimeout(rt.to);
        stage.style.background = '#3e1420';
        hint.className='rt-hint';
        hint.textContent='è¿‡æ—©äº†ï¼ç­‰å˜æˆâ€œç‚¹æˆ‘ï¼â€å†ç‚¹ï¼Œç‚¹â€œå†æ¥ä¸€æ¬¡â€ã€‚';
        res.textContent='åˆ¤å®šï¼šè¿‡æ—©';
        rt.state='done';
        retryBtn.disabled=false;
      } else if(rt.state==='ready'){
        const dt = Math.round(performance.now()-rt.t0);
        stage.style.background = '#0b132b';
        hint.className='rt-hint';
        hint.textContent='ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹ï¼Œç­‰å¾…æç¤ºåå†ç‚¹ã€‚';
        res.textContent = `ä½ çš„ååº”æ—¶é—´ï¼š${dt} ms`;
        rt.state='done';
        retryBtn.disabled=false;
      }
    };
    retryBtn.onclick = ()=>{ resetRT(); };

    // close Reaction Timer modal
    $('#rtClose').onclick = ()=>{ $('#rtModal').classList.remove('open'); resetRT(); };
    $('#rtModal').addEventListener('click',(e)=>{ if(e.target.id==='rtModal'){ $('#rtModal').classList.remove('open'); resetRT(); }});

    // --- Click Challenge ---
    document.querySelector('[data-open="clicker"]').addEventListener('click',()=>{
      $('#clickerModal').classList.add('open');
    });

    const ck = {
      state: 'idle', // idle|running|done
      score: 0,
      tEnd: 0,
      timer: null
    };
    const ckStage = $('#clickerStage');
    const ckHint = $('#clickerHint');
    const ckRes = $('#clickerResult');
    const ckStart = $('#clickerStart');
    const ckRetry = $('#clickerRetry');
    const ckBig = $('#clickerBig');
    const ckTime = $('#clickerTime');
    const ckScore = $('#clickerScore');

    function resetCK(){
      ck.state='idle'; ck.score=0; ck.tEnd=0; clearInterval(ck.timer);
      ckStage.style.background='#0b132b';
      ckHint.textContent='ç‚¹å‡»â€œå¼€å§‹â€åï¼Œ5 ç§’å†…å°½å¯èƒ½å¤šåœ°ç‚¹ä¸‹æ–¹å¤§æŒ‰é’®ã€‚';
      ckRes.textContent='â€”';
      ckTime.textContent='5.0';
      ckScore.textContent='0';
      ckRetry.disabled=true;
      ckBig.disabled=true;
    }
    resetCK();

    ckStart.onclick = ()=>{
      if(ck.state==='running') return;
      ck.state='running'; ck.score=0; ckScore.textContent='0';
      ckBig.disabled=false; ckRetry.disabled=true; ckRes.textContent='â€”';
      ckStage.style.background='#0b132b';
      const DUR = 5000; // 5s
      ck.tEnd = performance.now() + DUR;
      const tick = ()=>{
        const left = Math.max(0, ck.tEnd - performance.now());
        ckTime.textContent = (left/1000).toFixed(1);
        if(left<=0){
          clearInterval(ck.timer);
          ck.state='done'; ckBig.disabled=true; ckRetry.disabled=false;
          ckRes.textContent=`ä½ çš„æˆç»©ï¼š${ck.score} æ¬¡`;
        }
      };
      clearInterval(ck.timer); ck.timer = setInterval(tick, 100);
      tick();
    };

    ckBig.onclick = ()=>{
      if(ck.state!=='running') return;
      ck.score++; ckScore.textContent = String(ck.score);
      ckStage.style.background = '#0f253f';
      setTimeout(()=>{ ckStage.style.background='#0b132b'; }, 60);
    };

    ckRetry.onclick = ()=>{ resetCK(); };

    // close Clicker modal
    $('#clickerClose').onclick = ()=>{ $('#clickerModal').classList.remove('open'); resetCK(); };
    $('#clickerModal').addEventListener('click',(e)=>{ if(e.target.id==='clickerModal'){ $('#clickerModal').classList.remove('open'); resetCK(); }});
  </script>
</body>
</html>
